"use strict";var wt=Object.create;var ee=Object.defineProperty;var Ut=Object.getOwnPropertyDescriptor;var Vt=Object.getOwnPropertyNames;var jt=Object.getPrototypeOf,kt=Object.prototype.hasOwnProperty;var $t=(n,e)=>{for(var o in e)ee(n,o,{get:e[o],enumerable:!0})},Ye=(n,e,o,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Vt(e))!kt.call(n,i)&&i!==o&&ee(n,i,{get:()=>e[i],enumerable:!(t=Ut(e,i))||t.enumerable});return n};var Bt=(n,e,o)=>(o=n!=null?wt(jt(n)):{},Ye(e||!n||!n.__esModule?ee(o,"default",{value:n,enumerable:!0}):o,n)),qt=n=>Ye(ee({},"__esModule",{value:!0}),n);var Nn={};$t(Nn,{ApiKeyRole:()=>Fe,Bundle:()=>ie,BundleService:()=>ht,Constants:()=>u,Context:()=>Ot,Country:()=>se,License:()=>w,LicenseService:()=>It,LicenseTemplate:()=>ce,LicenseTemplateService:()=>bt,LicenseTransactionJoin:()=>Te,LicenseType:()=>q,Licensee:()=>ae,LicenseeSecretMode:()=>te,LicenseeService:()=>Nt,LicensingModel:()=>He,NlicError:()=>v,NodeSecretMode:()=>Ke,Notification:()=>de,NotificationEvent:()=>Y,NotificationProtocol:()=>F,NotificationService:()=>Lt,Page:()=>y,PaymentMethod:()=>me,PaymentMethodEnum:()=>ze,PaymentMethodService:()=>Rt,Product:()=>ue,ProductDiscount:()=>pe,ProductModule:()=>le,ProductModuleService:()=>Ct,ProductService:()=>xt,SecurityMode:()=>N,Service:()=>m,TimeVolumePeriod:()=>ne,Token:()=>fe,TokenService:()=>St,TokenType:()=>H,Transaction:()=>z,TransactionService:()=>At,TransactionSource:()=>oe,TransactionStatus:()=>K,UtilityService:()=>Mt,ValidationParameters:()=>_t,ValidationResults:()=>De,defineEntity:()=>g,ensureNotEmpty:()=>p,ensureNotNull:()=>T,filterDecode:()=>Et,filterEncode:()=>D,isDefined:()=>_e,isValid:()=>G,itemToBundle:()=>R,itemToCountry:()=>re,itemToLicense:()=>I,itemToLicenseTemplate:()=>x,itemToLicensee:()=>C,itemToNotification:()=>S,itemToObject:()=>P,itemToPaymentMethod:()=>U,itemToProduct:()=>A,itemToProductModule:()=>M,itemToToken:()=>V,itemToTransaction:()=>O,serialize:()=>E});module.exports=qt(Nn);var Yt=Object.freeze({DISABLED:"DISABLED",PREDEFINED:"PREDEFINED",CLIENT:"CLIENT"}),te=Yt;var Ft=Object.freeze({FEATURE:"FEATURE",TIMEVOLUME:"TIMEVOLUME",FLOATING:"FLOATING",QUANTITY:"QUANTITY"}),q=Ft;var Ht=Object.freeze({LICENSEE_CREATED:"LICENSEE_CREATED",LICENSE_CREATED:"LICENSE_CREATED",WARNING_LEVEL_CHANGED:"WARNING_LEVEL_CHANGED",PAYMENT_TRANSACTION_PROCESSED:"PAYMENT_TRANSACTION_PROCESSED"}),Y=Ht;var Kt=Object.freeze({WEBHOOK:"WEBHOOK"}),F=Kt;var zt=Object.freeze({BASIC_AUTHENTICATION:"BASIC_AUTH",APIKEY_IDENTIFICATION:"APIKEY",ANONYMOUS_IDENTIFICATION:"ANONYMOUS"}),N=zt;var Gt=Object.freeze({DAY:"DAY",WEEK:"WEEK",MONTH:"MONTH",YEAR:"YEAR"}),ne=Gt;var Jt=Object.freeze({DEFAULT:"DEFAULT",SHOP:"SHOP",APIKEY:"APIKEY",ACTION:"ACTION"}),H=Jt;var Qt=Object.freeze({SHOP:"SHOP",AUTO_LICENSE_CREATE:"AUTO_LICENSE_CREATE",AUTO_LICENSE_UPDATE:"AUTO_LICENSE_UPDATE",AUTO_LICENSE_DELETE:"AUTO_LICENSE_DELETE",AUTO_LICENSEE_CREATE:"AUTO_LICENSEE_CREATE",AUTO_LICENSEE_DELETE:"AUTO_LICENSEE_DELETE",AUTO_LICENSEE_VALIDATE:"AUTO_LICENSEE_VALIDATE",AUTO_LICENSETEMPLATE_DELETE:"AUTO_LICENSETEMPLATE_DELETE",AUTO_PRODUCTMODULE_DELETE:"AUTO_PRODUCTMODULE_DELETE",AUTO_PRODUCT_DELETE:"AUTO_PRODUCT_DELETE",AUTO_LICENSES_TRANSFER:"AUTO_LICENSES_TRANSFER",SUBSCRIPTION_UPDATE:"SUBSCRIPTION_UPDATE",RECURRING_PAYMENT:"RECURRING_PAYMENT",CANCEL_RECURRING_PAYMENT:"CANCEL_RECURRING_PAYMENT",OBTAIN_BUNDLE:"OBTAIN_BUNDLE"}),oe=Qt;var Wt=Object.freeze({PENDING:"PENDING",CLOSED:"CLOSED",CANCELLED:"CANCELLED"}),K=Wt;var u={LicenseeSecretMode:te,LicenseType:q,NotificationEvent:Y,NotificationProtocol:F,SecurityMode:N,TimeVolumePeriod:ne,TokenType:H,TransactionSource:oe,TransactionStatus:K,BASIC_AUTHENTICATION:"BASIC_AUTH",APIKEY_IDENTIFICATION:"APIKEY",ANONYMOUS_IDENTIFICATION:"ANONYMOUS",FILTER:"filter",Product:{TYPE:"Product",ENDPOINT_PATH:"product"},ProductModule:{TYPE:"ProductModule",ENDPOINT_PATH:"productmodule",PRODUCT_MODULE_NUMBER:"productModuleNumber"},Licensee:{TYPE:"Licensee",ENDPOINT_PATH:"licensee",ENDPOINT_PATH_VALIDATE:"validate",ENDPOINT_PATH_TRANSFER:"transfer",LICENSEE_NUMBER:"licenseeNumber"},LicenseTemplate:{TYPE:"LicenseTemplate",ENDPOINT_PATH:"licensetemplate",LicenseType:q},License:{TYPE:"License",ENDPOINT_PATH:"license"},Validation:{TYPE:"ProductModuleValidation"},Token:{TYPE:"Token",ENDPOINT_PATH:"token",Type:H},PaymentMethod:{TYPE:"PaymentMethod",ENDPOINT_PATH:"paymentmethod"},Bundle:{TYPE:"Bundle",ENDPOINT_PATH:"bundle",ENDPOINT_OBTAIN_PATH:"obtain"},Notification:{TYPE:"Notification",ENDPOINT_PATH:"notification",Protocol:F,Event:Y},Transaction:{TYPE:"Transaction",ENDPOINT_PATH:"transaction",Status:K},Utility:{ENDPOINT_PATH:"utility",ENDPOINT_PATH_LICENSE_TYPES:"licenseTypes",ENDPOINT_PATH_LICENSING_MODELS:"licensingModels",ENDPOINT_PATH_COUNTRIES:"countries",LICENSING_MODEL_TYPE:"LicensingModelProperties",LICENSE_TYPE:"LicenseType",COUNTRY_TYPE:"Country"}};var Xt=Object.freeze({ROLE_APIKEY_LICENSEE:"ROLE_APIKEY_LICENSEE",ROLE_APIKEY_ANALYTICS:"ROLE_APIKEY_ANALYTICS",ROLE_APIKEY_OPERATION:"ROLE_APIKEY_OPERATION",ROLE_APIKEY_MAINTENANCE:"ROLE_APIKEY_MAINTENANCE",ROLE_APIKEY_ADMIN:"ROLE_APIKEY_ADMIN"}),Fe=Xt;var Zt=Object.freeze({TRY_AND_BUY:"TryAndBuy",SUBSCRIPTION:"Subscription",RENTAL:"Rental",FLOATING:"Floating",MULTI_FEATURE:"MultiFeature",PAY_PER_USE:"PayPerUse",PRICING_TABLE:"PricingTable",QUOTA:"Quota",NODE_LOCKED:"NodeLocked",DISCOUNT:"Discount"}),He=Zt;var en=Object.freeze({PREDEFINED:"PREDEFINED",CLIENT:"CLIENT"}),Ke=en;var tn=Object.freeze({NULL:"NULL",PAYPAL:"PAYPAL",PAYPAL_SANDBOX:"PAYPAL_SANDBOX",STRIPE:"STRIPE",STRIPE_TESTING:"STRIPE_TESTING"}),ze=tn;var nn=n=>{try{return JSON.parse(n)}catch{return n}},on=n=>{let e={};return n?.forEach(({name:o,value:t})=>{e[o]=nn(t)}),e},sn=n=>{let e={};return n?.forEach(o=>{let{name:t}=o;e[t]=e[t]||[],e[t].push(Ge(o))}),e},Ge=n=>n?{...on(n.property),...sn(n.list)}:{},P=Ge;var xe=(n,e)=>Object.hasOwn(n,e),a=(n,e,o)=>{n[e]=o},r=(n,e,o)=>xe(n,e)?n[e]:o;var E=(n,e={})=>{let o={},{ignore:t=[]}=e;return Object.entries(n).forEach(([i,s])=>{if(!t.includes(i)&&typeof s!="function")if(s===void 0)o[i]="";else if(typeof s=="string")o[i]=s;else if(s instanceof Date)o[i]=s.toISOString();else if(typeof s!="object"||s===null)o[i]=String(s);else try{o[i]=JSON.stringify(s)}catch{o[i]=String(s)}}),o};var rn=function(n,e,o={},t){let i={set:[],get:[]};t?.get&&i.get.push(t.get),t?.set&&i.set.push(t.set);let s={set(c,d){a(n,c,d)},get(c,d){return r(n,c,d)},has(c){return xe(n,c)},setProperty(c,d){this.set(c,d)},addProperty(c,d){this.set(c,d)},getProperty(c,d){return this.get(c,d)},hasProperty(c){return this.has(c)},setProperties(c){Object.entries(c).forEach(([d,l])=>{this.set(d,l)})},serialize(){return E(n)}};return new Proxy(n,{get(c,d,l){return Object.hasOwn(e,d)?e[d]:Object.hasOwn(s,d)?s[d]:(i.get.forEach(f=>{f(c,d,l)}),Reflect.get(c,d,l))},set(c,d,l,f){return i.set.forEach(h=>{h(c,d,l,f)}),Reflect.set(c,d,l,f)},getPrototypeOf(){return o.prototype||null}})},g=rn;var Je=function(n={}){let e={...n};return g(e,{setActive(t){a(e,"active",t)},getActive(t){return r(e,"active",t)},setNumber(t){a(e,"number",t)},getNumber(t){return r(e,"number",t)},setName(t){a(e,"name",t)},getName(t){return r(e,"name",t)},setPrice(t){a(e,"price",t)},getPrice(t){return r(e,"price",t)},setCurrency(t){a(e,"currency",t)},getCurrency(t){return r(e,"currency",t)},setLicenseTemplateNumbers(t){a(e,"licenseTemplateNumbers",t)},addLicenseTemplateNumber(t){e.licenseTemplateNumbers||(e.licenseTemplateNumbers=[]),e.licenseTemplateNumbers.push(t)},getLicenseTemplateNumbers(t){return r(e,"licenseTemplateNumbers",t)},removeLicenseTemplateNumber(t){let{licenseTemplateNumbers:i=[]}=e;i.splice(i.indexOf(t),1),e.licenseTemplateNumbers=i},serialize(){if(e.licenseTemplateNumbers){let t=e.licenseTemplateNumbers.join(",");return E({...e,licenseTemplateNumbers:t})}return E(e)}},Je)},ie=Je;var R=n=>{let e=P(n),{licenseTemplateNumbers:o}=e;return o&&typeof o=="string"&&(e.licenseTemplateNumbers=o.split(",")),ie(e)};var Qe=function(n={}){let o={...{code:"",name:"",vatPercent:0,isEu:!1},...n};return g(o,{getCode(){return o.code},getName(){return o.name},getVatPercent(){return o.vatPercent},getIsEu(){return o.isEu}},Qe)},se=Qe;var re=n=>se(P(n));var We=function(n={}){let e={...n};return g(e,{setActive(t){a(e,"active",t)},getActive(t){return r(e,"active",t)},setNumber(t){a(e,"number",t)},getNumber(t){return r(e,"number",t)},setName(t){a(e,"name",t)},getName(t){return r(e,"name",t)},setPrice(t){a(e,"price",t)},getPrice(t){return r(e,"price",t)},setCurrency(t){a(e,"currency",t)},getCurrency(t){return r(e,"currency",t)},setHidden(t){a(e,"hidden",t)},getHidden(t){return r(e,"hidden",t)},setLicenseeNumber(t){a(e,"licenseeNumber",t)},getLicenseeNumber(t){return r(e,"licenseeNumber",t)},setLicenseTemplateNumber(t){a(e,"licenseTemplateNumber",t)},getLicenseTemplateNumber(t){return r(e,"licenseTemplateNumber",t)},setTimeVolume(t){a(e,"timeVolume",t)},getTimeVolume(t){return r(e,"timeVolume",t)},setTimeVolumePeriod(t){a(e,"timeVolumePeriod",t)},getTimeVolumePeriod(t){return r(e,"timeVolumePeriod",t)},setStartDate(t){a(e,"startDate",t)},getStartDate(t){return r(e,"startDate",t)},setParentfeature(t){a(e,"parentfeature",t)},getParentfeature(t){return r(e,"parentfeature",t)},serialize(){return E(e,{ignore:["inUse"]})}},We)},w=We;var I=n=>{let e=P(n),{startDate:o}=e;return o&&typeof o=="string"&&(e.startDate=o==="now"?o:new Date(o)),w(e)};var Xe=function(n={}){let e={...n};return g(e,{setActive(t){a(e,"active",t)},getActive(t){return r(e,"active",t)},setNumber(t){a(e,"number",t)},getNumber(t){return r(e,"number",t)},setName(t){a(e,"name",t)},getName(t){return r(e,"name",t)},setProductNumber(t){a(e,"productNumber",t)},getProductNumber(t){return r(e,"productNumber",t)},setMarkedForTransfer(t){a(e,"markedForTransfer",t)},getMarkedForTransfer(t){return r(e,"markedForTransfer",t)},serialize(){return E(e,{ignore:["inUse"]})}},Xe)},ae=Xe;var C=n=>ae(P(n));var Ze=function(n={}){let e={...n};return g(e,{setActive(t){a(e,"active",t)},getActive(t){return r(e,"active",t)},setNumber(t){a(e,"number",t)},getNumber(t){return r(e,"number",t)},setName(t){a(e,"name",t)},getName(t){return r(e,"name",t)},setLicenseType(t){a(e,"licenseType",t)},getLicenseType(t){return r(e,"licenseType",t)},setPrice(t){a(e,"price",t)},getPrice(t){return r(e,"price",t)},setCurrency(t){a(e,"currency",t)},getCurrency(t){return r(e,"currency",t)},setAutomatic(t){a(e,"automatic",t)},getAutomatic(t){return r(e,"automatic",t)},setHidden(t){a(e,"hidden",t)},getHidden(t){return r(e,"hidden",t)},setHideLicenses(t){a(e,"hideLicenses",t)},getHideLicenses(t){return r(e,"hideLicenses",t)},setGracePeriod(t){a(e,"gracePeriod",t)},getGracePeriod(t){return r(e,"gracePeriod",t)},setTimeVolume(t){a(e,"timeVolume",t)},getTimeVolume(t){return r(e,"timeVolume",t)},setTimeVolumePeriod(t){a(e,"timeVolumePeriod",t)},getTimeVolumePeriod(t){return r(e,"timeVolumePeriod",t)},setMaxSessions(t){a(e,"maxSessions",t)},getMaxSessions(t){return r(e,"maxSessions",t)},setQuantity(t){a(e,"quantity",t)},getQuantity(t){return r(e,"quantity",t)},setProductModuleNumber(t){a(e,"productModuleNumber",t)},getProductModuleNumber(t){return r(e,"productModuleNumber",t)},serialize(){return E(e,{ignore:["inUse"]})}},Ze)},ce=Ze;var x=n=>ce(P(n));var et=function(n={}){let e={...n};return g(e,{setActive(t){a(e,"active",t)},getActive(t){return r(e,"active",t)},setNumber(t){a(e,"number",t)},getNumber(t){return r(e,"number",t)},setName(t){a(e,"name",t)},getName(t){return r(e,"name",t)},setProtocol(t){a(e,"protocol",t)},getProtocol(t){return r(e,"protocol",t)},setEvents(t){a(e,"events",t)},getEvents(t){return r(e,"events",t)},addEvent(t){let i=this.getEvents([]);i.push(t),this.setEvents(i)},setPayload(t){a(e,"payload",t)},getPayload(t){return r(e,"payload",t)},setEndpoint(t){a(e,"endpoint",t)},getEndpoint(t){return r(e,"endpoint",t)},serialize(){let t=E(e);return t.events&&(t.events=this.getEvents([]).join(",")),t}},et)},de=et;var S=n=>{let e=P(n),{events:o}=e;return o&&typeof o=="string"&&(e.events=o.split(",")),de(e)};var tt=function(n={}){let e={...n};return g(e,{setActive(t){a(e,"active",t)},getActive(t){return r(e,"active",t)},setNumber(t){a(e,"number",t)},getNumber(t){return r(e,"number",t)}},tt)},me=tt;var U=n=>me(P(n));var nt=function(n={}){let e={...n};return g(e,{setActive(t){a(e,"active",t)},getActive(t){return r(e,"active",t)},setNumber(t){a(e,"number",t)},getNumber(t){return r(e,"number",t)},setName(t){a(e,"name",t)},getName(t){return r(e,"name",t)},setVersion(t){a(e,"version",t)},getVersion(t){return r(e,"version",t)},setDescription(t){a(e,"description",t)},getDescription(t){return r(e,"description",t)},setLicensingInfo(t){a(e,"licensingInfo",t)},getLicensingInfo(t){return r(e,"licensingInfo",t)},setLicenseeAutoCreate(t){a(e,"licenseeAutoCreate",t)},getLicenseeAutoCreate(t){return r(e,"licenseeAutoCreate",t)},setDiscounts(t){a(e,"discounts",t)},getDiscounts(t){return r(e,"discounts",t)},addDiscount(t){let i=this.getDiscounts([]);i.push(t),this.setDiscounts(i)},removeDiscount(t){let i=this.getDiscounts();Array.isArray(i)&&i.length>0&&(i.splice(i.indexOf(t),1),this.setDiscounts(i))},setProductDiscounts(t){this.setDiscounts(t)},getProductDiscounts(t){return this.getDiscounts(t)},serialize(){let t=E(e,{ignore:["discounts","inUse"]}),i=this.getDiscounts();return i&&(t.discount=i.length>0?i.map(s=>s.toString()):""),t}},nt)},ue=nt;var ot=require("axios"),v=class n extends ot.AxiosError{constructor(o,t,i,s,c,d){super(o,t,i,s,c);this.isNlicError=!0;this.name="NlicError",d&&(this.stack=d),Object.setPrototypeOf(this,n.prototype)}};var it=function(n={}){let e={...n};if(e.amountFix&&e.amountPercent)throw new v('Properties "amountFix" and "amountPercent" cannot be used at the same time');return g(e,{setTotalPrice(t){a(e,"totalPrice",t)},getTotalPrice(t){return r(e,"totalPrice",t)},setCurrency(t){a(e,"currency",t)},getCurrency(t){return r(e,"currency",t)},setAmountFix(t){a(e,"amountFix",t)},getAmountFix(t){return r(e,"amountFix",t)},setAmountPercent(t){a(e,"amountPercent",t)},getAmountPercent(t){return r(e,"amountPercent",t)},toString(){let t=this.getTotalPrice(),i=this.getCurrency(),s=this.getAmountPercent()?`${this.getAmountPercent()}%`:this.getAmountFix();return t&&i&&s?`${t};${i};${s}`:""}},it,{set:(t,i)=>{i==="amountFix"&&delete t.amountPercent,i==="amountPercent"&&delete t.amountFix}})},pe=it;var A=n=>{let e=P(n),o=e.discount;return delete e.discount,o&&(e.discounts=o.map(t=>pe(t))),ue(e)};var st=function(n={}){let e={...n};return g(e,{setActive(t){a(e,"active",t)},getActive(t){return r(e,"active",t)},setNumber(t){a(e,"number",t)},getNumber(t){return r(e,"number",t)},setName(t){a(e,"name",t)},getName(t){return r(e,"name",t)},setLicensingModel(t){a(e,"licensingModel",t)},getLicensingModel(t){return r(e,"licensingModel",t)},setMaxCheckoutValidity(t){a(e,"maxCheckoutValidity",t)},getMaxCheckoutValidity(t){return r(e,"maxCheckoutValidity",t)},setYellowThreshold(t){a(e,"yellowThreshold",t)},getYellowThreshold(t){return r(e,"yellowThreshold",t)},setRedThreshold(t){a(e,"redThreshold",t)},getRedThreshold(t){return r(e,"redThreshold",t)},setProductNumber(t){a(e,"productNumber",t)},getProductNumber(t){return r(e,"productNumber",t)},serialize(){return E(e,{ignore:["inUse"]})}},st)},le=st;var M=n=>le(P(n));var rt=function(n={}){let e={...n};return g(e,{setActive(t){a(e,"active",t)},getActive(t){return r(e,"active",t)},setNumber(t){a(e,"number",t)},getNumber(t){return r(e,"number",t)},setExpirationTime(t){a(e,"expirationTime",t)},getExpirationTime(t){return r(e,"expirationTime",t)},setTokenType(t){a(e,"tokenType",t)},getTokenType(t){return r(e,"tokenType",t)},setLicenseeNumber(t){a(e,"licenseeNumber",t)},getLicenseeNumber(t){return r(e,"licenseeNumber",t)},setAction(t){a(e,"action",t)},getAction(t){return r(e,"action",t)},setApiKeyRole(t){a(e,"apiKeyRole",t)},getApiKeyRole(t){return r(e,"apiKeyRole",t)},setBundleNumber(t){a(e,"bundleNumber",t)},getBundleNumber(t){return r(e,"bundleNumber",t)},setBundlePrice(t){a(e,"bundlePrice",t)},getBundlePrice(t){return r(e,"bundlePrice",t)},setProductNumber(t){a(e,"productNumber",t)},getProductNumber(t){return r(e,"productNumber",t)},setPredefinedShoppingItem(t){a(e,"predefinedShoppingItem",t)},getPredefinedShoppingItem(t){return r(e,"predefinedShoppingItem",t)},setSuccessURL(t){a(e,"successURL",t)},getSuccessURL(t){return r(e,"successURL",t)},setSuccessURLTitle(t){a(e,"successURLTitle",t)},getSuccessURLTitle(t){return r(e,"successURLTitle",t)},setCancelURL(t){a(e,"cancelURL",t)},getCancelURL(t){return r(e,"cancelURL",t)},setCancelURLTitle(t){a(e,"cancelURLTitle",t)},getCancelURLTitle(t){return r(e,"cancelURLTitle",t)},getShopURL(t){return r(e,"shopURL",t)},serialize(){return E(e,{ignore:["shopURL"]})}},rt)},fe=rt;var V=n=>{let e=P(n),{expirationTime:o}=e;return o&&typeof o=="string"&&(e.expirationTime=new Date(o)),fe(e)};var Se=class{constructor(e,o){this.transaction=e,this.license=o}setTransaction(e){this.transaction=e}getTransaction(){return this.transaction}setLicense(e){this.license=e}getLicense(){return this.license}},Te=(n,e)=>new Se(n,e);var at=function(n={}){let e={...n};return g(e,{setActive(t){a(e,"active",t)},getActive(t){return r(e,"active",t)},setNumber(t){a(e,"number",t)},getNumber(t){return r(e,"number",t)},setStatus(t){a(e,"status",t)},getStatus(t){return r(e,"status",t)},setSource(t){a(e,"source",t)},getSource(t){return r(e,"source",t)},setGrandTotal(t){a(e,"grandTotal",t)},getGrandTotal(t){return r(e,"grandTotal",t)},setDiscount(t){a(e,"discount",t)},getDiscount(t){return r(e,"discount",t)},setCurrency(t){a(e,"currency",t)},getCurrency(t){return r(e,"currency",t)},setDateCreated(t){a(e,"dateCreated",t)},getDateCreated(t){return r(e,"dateCreated",t)},setDateClosed(t){a(e,"dateClosed",t)},getDateClosed(t){return r(e,"dateClosed",t)},setPaymentMethod(t){a(e,"paymentMethod",t)},getPaymentMethod(t){return r(e,"paymentMethod",t)},setLicenseTransactionJoins(t){a(e,"licenseTransactionJoins",t)},getLicenseTransactionJoins(t){return r(e,"licenseTransactionJoins",t)},serialize(){return E(e,{ignore:["licenseTransactionJoins","inUse"]})}},at)},z=at;var O=n=>{let e=P(n),{dateCreated:o,dateClosed:t}=e;o&&typeof o=="string"&&(e.dateCreated=new Date(o)),t&&typeof t=="string"&&(e.dateClosed=new Date(t));let i=e.licenseTransactionJoin;return delete e.licenseTransactionJoin,i&&(e.licenseTransactionJoins=i.map(({transactionNumber:s,licenseNumber:c})=>{let d=z({number:s}),l=w({number:c});return Te(d,l)})),z(e)};var ct=Bt(require("axios")),dt=ct.default.create(),mt=null,ut=[],pt=n=>{dt=n},Pe=()=>dt,Ae=n=>{mt=n},lt=()=>mt,Me=n=>{ut=n},ft=()=>ut;var Oe={name:"netlicensing-client",version:"2.0.0",description:"JavaScript Wrapper for Labs64 NetLicensing RESTful API",keywords:["labs64","netlicensing","licensing","licensing-as-a-service","license","license-management","software-license","client","restful","restful-api","javascript","wrapper","api","client"],license:"Apache-2.0",author:"Labs64 GmbH",homepage:"https://netlicensing.io",repository:{type:"git",url:"https://github.com/Labs64/NetLicensingClient-javascript"},bugs:{url:"https://github.com/Labs64/NetLicensingClient-javascript/issues"},contributors:[{name:"Ready Brown",email:"ready.brown@hotmail.de",url:"https://github.com/r-brown"},{name:"Viacheslav Rudkovskiy",email:"viachaslau.rudkovski@labs64.de",url:"https://github.com/v-rudkovskiy"},{name:"Andrei Yushkevich",email:"yushkevich@me.com",url:"https://github.com/yushkevich"}],main:"dist/index.cjs",module:"dist/index.mjs",types:"dist/index.d.ts",exports:{".":{types:"./dist/index.d.ts",import:"./dist/index.mjs",require:"./dist/index.cjs"}},files:["dist"],scripts:{build:"tsup",release:"npm run lint:typecheck && npm run test && npm run build",dev:"tsup --watch",test:"vitest run","test:dev":"vitest watch",lint:"eslint --ext .js,.mjs,.ts src",typecheck:"tsc --noEmit","lint:typecheck":"npm run lint && npm run typecheck"},peerDependencies:{axios:"^1.9.0"},dependencies:{},devDependencies:{"@eslint/js":"^9.24.0","@types/node":"^22.14.0","@typescript-eslint/eslint-plugin":"^8.29.1","@typescript-eslint/parser":"^8.29.1","@vitest/eslint-plugin":"^1.1.43",axios:"^1.9.0",eslint:"^9.24.0","eslint-plugin-import":"^2.31.0",prettier:"3.5.3",tsup:"^8.4.0",typescript:"^5.8.3","typescript-eslint":"^8.29.1",vitest:"^3.1.1"},engines:{node:">= 16.9.0",npm:">= 8.0.0"},browserslist:["> 1%","last 2 versions","not ie <= 10"]};var ge=n=>{let e=[],o=(t,i)=>{if(t!=null){if(Array.isArray(t)){t.forEach(s=>{o(s,i?`${i}`:"")});return}if(t instanceof Date){e.push(`${i}=${encodeURIComponent(t.toISOString())}`);return}if(typeof t=="object"){Object.keys(t).forEach(s=>{let c=t[s];o(c,i?`${i}[${encodeURIComponent(s)}]`:encodeURIComponent(s))});return}e.push(`${i}=${encodeURIComponent(t)}`)}};return o(n),e.join("&")};var j=async(n,e,o,t,i)=>{let s={Accept:"application/json","X-Requested-With":"XMLHttpRequest"};typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]"&&(s["User-agent"]=`NetLicensing/Javascript ${Oe.version}/node&${process.version}`);let c={method:e,headers:s,url:encodeURI(`${n.getBaseUrl()}/${o}`),responseType:"json",transformRequest:(l,f)=>f["Content-Type"]==="application/x-www-form-urlencoded"?ge(l):(f["NetLicensing-Origin"]||(f["NetLicensing-Origin"]=`NetLicensing/Javascript ${Oe.version}`),l)};switch(["put","post","patch"].indexOf(e.toLowerCase())>=0?(c.method==="post"&&(s["Content-Type"]="application/x-www-form-urlencoded"),c.data=t):c.params=t,n.getSecurityMode()){case N.BASIC_AUTHENTICATION:{if(!n.getUsername())throw new v('Missing parameter "username"');if(!n.getPassword())throw new v('Missing parameter "password"');c.auth={username:n.getUsername(),password:n.getPassword()}}break;case N.APIKEY_IDENTIFICATION:if(!n.getApiKey())throw new v('Missing parameter "apiKey"');s.Authorization=`Basic ${btoa(`apiKey:${n.getApiKey()}`)}`;break;case N.ANONYMOUS_IDENTIFICATION:break;default:throw new v("Unknown security mode")}let d=i?.axiosInstance||Pe();try{let l=await d(c),f=l.data.infos?.info||[];if(Ae(l),Me(f),i?.onResponse&&i.onResponse(l),f.length>0){i?.onInfo&&i.onInfo(f);let h=f.find(({type:b})=>b==="ERROR");if(h)throw new v(h.value,h.id,l.config,l.request,l)}return l}catch(l){let f=l,h=f.response,b=h?.data?.infos?.info||[];if(Ae(h||null),Me(b),l.isAxiosError){let L=l.message;if(h?.data&&b.length>0){let $=b.find(({type:B})=>B==="ERROR");$&&(L=$.value)}throw new v(L,f.code,f.config,f.request,f.response)}throw l}};var Tt=(n,e,o,t)=>j(n,"get",e,o,t),Pt=(n,e,o,t)=>j(n,"post",e,o,t),gt=(n,e,o,t)=>j(n,"delete",e,o,t);var cn={setAxiosInstance(n){pt(n)},getAxiosInstance(){return Pe()},getLastHttpRequestInfo(){return lt()},getInfo(){return ft()},get(n,e,o,t){return Tt(n,e,o,t)},post(n,e,o,t){return Pt(n,e,o,t)},delete(n,e,o,t){return gt(n,e,o,t)},request(n,e,o,t,i){return j(n,e,o,t,i)},toQueryString(n){return ge(n)}},m=cn;var yt=";",Dt="=",D=n=>Object.keys(n).map(e=>`${e}${Dt}${String(n[e])}`).join(yt),Et=n=>{let e={};return n.split(yt).forEach(o=>{let[t,i]=o.split(Dt);e[t]=i}),e};var _e=n=>typeof n<"u"&&typeof n!="function",G=n=>_e(n)?typeof n=="number"?!Number.isNaN(n):!0:!1,T=(n,e)=>{if(n===null)throw new TypeError(`Parameter "${e}" cannot be null.`);if(!G(n))throw new TypeError(`Parameter "${e}" has an invalid value.`)},p=(n,e)=>{if(T(n,e),!n)throw new TypeError(`Parameter "${e}" cannot be empty.`)};var vt=function(n,e){let o=parseInt(e?.pagenumber||"0",10),t=parseInt(e?.itemsnumber||"0",10),i=parseInt(e?.totalpages||"0",10),s=parseInt(e?.totalitems||"0",10),c={getContent(){return n},getPagination(){return{pageNumber:o,itemsNumber:t,totalPages:i,totalItems:s,hasNext:i>o+1}},getPageNumber(){return o},getItemsNumber(){return t},getTotalPages(){return i},getTotalItems(){return s},hasNext(){return i>o+1}};return new Proxy(n,{get(d,l,f){return Object.hasOwn(c,l)?c[l]:Reflect.get(d,l,f)},set(d,l,f,h){return Reflect.set(d,l,f,h)},getPrototypeOf(){return vt.prototype||null}})},y=vt;var k=u.Bundle.ENDPOINT_PATH,dn=u.Bundle.ENDPOINT_OBTAIN_PATH,ye=u.Bundle.TYPE,mn={async get(n,e,o){p(e,"number");let i=(await m.get(n,`${k}/${e}`,{},o)).data.items?.item.find(s=>s.type===ye);return R(i)},async list(n,e,o){let t={};e&&(t[u.FILTER]=typeof e=="string"?e:D(e));let s=(await m.get(n,k,t,o)).data.items,c=s?.item.filter(d=>d.type===ye).map(d=>R(d));return y(c||[],s)},async create(n,e,o){T(e,"bundle");let i=(await m.post(n,k,e.serialize(),o)).data.items?.item.find(s=>s.type===ye);return R(i)},async update(n,e,o,t){p(e,"number"),T(o,"bundle");let s=(await m.post(n,`${k}/${e}`,o.serialize(),t)).data.items?.item.find(c=>c.type===ye);return R(s)},delete(n,e,o,t){return p(e,"number"),m.delete(n,`${k}/${e}`,{forceCascade:!!o},t)},async obtain(n,e,o,t){p(e,"number"),p(o,"licenseeNumber");let i={[u.Licensee.LICENSEE_NUMBER]:o};return(await m.post(n,`${k}/${e}/${dn}`,i,t)).data.items?.item.filter(l=>l.type===u.License.TYPE)?.map(l=>I(l))||[]}},ht=mn;var we=class{constructor(){this.validations={}}getValidators(){return this.validations}setValidation(e){return this.validations[e.productModuleNumber]=e,this}getValidation(e,o){return this.validations[e]||o}setProductModuleValidation(e){return this.setValidation(e)}getProductModuleValidation(e,o){return this.getValidation(e,o)}setTtl(e){if(!G(e))throw new TypeError(`Bad ttl:${e.toString()}`);return this.ttl=new Date(e),this}getTtl(){return this.ttl}toString(){let e="ValidationResult [";return Object.keys(this.validations).forEach(o=>{e+=`ProductModule<${o}>`,o in this.validations&&(e+=JSON.stringify(this.validations[o]))}),e+="]",e}},De=()=>new we;var _=u.Licensee.ENDPOINT_PATH,un=u.Licensee.ENDPOINT_PATH_VALIDATE,pn=u.Licensee.ENDPOINT_PATH_TRANSFER,Ee=u.Licensee.TYPE,ln={async get(n,e,o){p(e,"number");let i=(await m.get(n,`${_}/${e}`,{},o)).data.items?.item.find(s=>s.type===Ee);return C(i)},async list(n,e,o){let t={};e&&(t[u.FILTER]=typeof e=="string"?e:D(e));let s=(await m.get(n,_,t,o)).data.items,c=s?.item.filter(d=>d.type===Ee).map(d=>C(d));return y(c||[],s)},async create(n,e,o,t){T(o,"licensee");let i=o.serialize();e&&(i.productNumber=e);let c=(await m.post(n,_,i,t)).data.items?.item.find(d=>d.type===Ee);return C(c)},async update(n,e,o,t){p(e,"number"),T(o,"licensee");let s=(await m.post(n,`${_}/${e}`,o.serialize(),t)).data.items?.item.find(c=>c.type===Ee);return C(s)},delete(n,e,o,t){return p(e,"number"),m.delete(n,`${_}/${e}`,{forceCascade:!!o},t)},async validate(n,e,o,t){p(e,"number");let i={};if(o){let f=o.productNumber;f&&(i.productNumber=f);let h=o.licenseeProperties;Object.keys(h).forEach(L=>{i[L]=o.getLicenseeProperty(L)}),o.isForOfflineUse()&&(i.forOfflineUse=!0),o.isDryRun()&&(i.dryRun=!0);let b=o.getParameters();Object.keys(b).forEach((L,$)=>{i[`${u.ProductModule.PRODUCT_MODULE_NUMBER}${$}`]=L;let B=b[L];B&&Object.keys(B).forEach(qe=>{i[qe+$]=B[qe]})})}let s=await m.post(n,`${_}/${e}/${un}`,i,t),c=De(),d=s.data.ttl;return d&&c.setTtl(d),s.data.items?.item.filter(f=>f.type===u.Validation.TYPE)?.forEach(f=>{c.setValidation(P(f))}),c},transfer(n,e,o,t){p(e,"number"),p(o,"sourceLicenseeNumber");let i={sourceLicenseeNumber:o};return m.post(n,`${_}/${e}/${pn}`,i,t)}},Nt=ln;var J=u.License.ENDPOINT_PATH,ve=u.License.TYPE,fn={async get(n,e,o){p(e,"number");let i=(await m.get(n,`${J}/${e}`,{},o)).data.items?.item.find(s=>s.type===ve);return I(i)},async list(n,e,o){let t={};e&&(t[u.FILTER]=typeof e=="string"?e:D(e));let s=(await m.get(n,J,t,o)).data.items,c=s?.item.filter(d=>d.type===ve).map(d=>I(d));return y(c||[],s)},async create(n,e,o,t,i,s){T(i,"license");let c=i.serialize();e&&(c.licenseeNumber=e),o&&(c.licenseTemplateNumber=o),t&&(c.transactionNumber=t);let l=(await m.post(n,J,c,s)).data.items?.item.find(f=>f.type===ve);return I(l)},async update(n,e,o,t,i){p(e,"number"),T(t,"license");let s=t.serialize();o&&(s.transactionNumber=o);let d=(await m.post(n,`${J}/${e}`,s,i)).data.items?.item.find(l=>l.type===ve);return I(d)},delete(n,e,o,t){return p(e,"number"),m.delete(n,`${J}/${e}`,{forceCascade:!!o},t)}},It=fn;var Q=u.LicenseTemplate.ENDPOINT_PATH,he=u.LicenseTemplate.TYPE,Tn={async get(n,e,o){p(e,"number");let i=(await m.get(n,`${Q}/${e}`,{},o)).data.items?.item.find(s=>s.type===he);return x(i)},async list(n,e,o){let t={};e&&(t[u.FILTER]=typeof e=="string"?e:D(e));let s=(await m.get(n,Q,t,o)).data.items,c=s?.item.filter(d=>d.type===he).map(d=>x(d));return y(c||[],s)},async create(n,e,o,t){T(o,"licenseTemplate");let i=o.serialize();e&&(i.productModuleNumber=e);let c=(await m.post(n,Q,i,t)).data.items?.item.find(d=>d.type===he);return x(c)},async update(n,e,o,t){p(e,"number"),T(o,"licenseTemplate");let s=(await m.post(n,`${Q}/${e}`,o.serialize(),t)).data.items?.item.find(c=>c.type===he);return x(s)},delete(n,e,o,t){return p(e,"number"),m.delete(n,`${Q}/${e}`,{forceCascade:!!o},t)}},bt=Tn;var W=u.Notification.ENDPOINT_PATH,Ne=u.Notification.TYPE,Pn={async get(n,e,o){p(e,"number");let i=(await m.get(n,`${W}/${e}`,{},o)).data.items?.item.find(s=>s.type===Ne);return S(i)},async list(n,e,o){let t={};e&&(t[u.FILTER]=typeof e=="string"?e:D(e));let s=(await m.get(n,W,t,o)).data.items,c=s?.item.filter(d=>d.type===Ne).map(d=>S(d));return y(c||[],s)},async create(n,e,o){T(e,"notification");let i=(await m.post(n,W,e.serialize(),o)).data.items?.item.find(s=>s.type===Ne);return S(i)},async update(n,e,o,t){p(e,"number"),T(o,"notification");let s=(await m.post(n,`${W}/${e}`,o.serialize(),t)).data.items?.item.find(c=>c.type===Ne);return S(s)},delete(n,e,o,t){return p(e,"number"),m.delete(n,`${W}/${e}`,{forceCascade:!!o},t)}},Lt=Pn;var Ue=u.PaymentMethod.ENDPOINT_PATH,Ve=u.PaymentMethod.TYPE,gn={async get(n,e,o){p(e,"number");let i=(await m.get(n,`${Ue}/${e}`,{},o)).data.items?.item.find(s=>s.type===Ve);return U(i)},async list(n,e,o){let t={};e&&(t[u.FILTER]=typeof e=="string"?e:D(e));let s=(await m.get(n,Ue,t,o)).data.items,c=s?.item.filter(d=>d.type===Ve).map(d=>U(d));return y(c||[],s)},async update(n,e,o,t){p(e,"number"),T(o,"paymentMethod");let s=(await m.post(n,`${Ue}/${e}`,o.serialize(),t)).data.items?.item.find(c=>c.type===Ve);return U(s)}},Rt=gn;var X=u.ProductModule.ENDPOINT_PATH,Ie=u.ProductModule.TYPE,yn={async get(n,e,o){p(e,"number");let i=(await m.get(n,`${X}/${e}`,{},o)).data.items?.item.find(s=>s.type===Ie);return M(i)},async list(n,e,o){let t={};e&&(t[u.FILTER]=typeof e=="string"?e:D(e));let s=(await m.get(n,X,t,o)).data.items,c=s?.item.filter(d=>d.type===Ie).map(d=>M(d));return y(c||[],s)},async create(n,e,o,t){T(o,"productModule");let i=o.serialize();e&&(i.productNumber=e);let c=(await m.post(n,X,i,t)).data.items?.item.find(d=>d.type===Ie);return M(c)},async update(n,e,o,t){p(e,"number"),T(o,"productModule");let s=(await m.post(n,`${X}/${e}`,o.serialize(),t)).data.items?.item.find(c=>c.type===Ie);return M(s)},delete(n,e,o,t){return p(e,"number"),m.delete(n,`${X}/${e}`,{forceCascade:!!o},t)}},Ct=yn;var Z=u.Product.ENDPOINT_PATH,be=u.Product.TYPE,Dn={async get(n,e,o){p(e,"number");let i=(await m.get(n,`${Z}/${e}`,{},o)).data.items?.item.find(s=>s.type===be);return A(i)},async list(n,e,o){let t={};e&&(t[u.FILTER]=typeof e=="string"?e:D(e));let s=(await m.get(n,Z,t,o)).data.items,c=s?.item.filter(d=>d.type===be).map(d=>A(d));return y(c||[],s)},async create(n,e,o){T(e,"product");let i=(await m.post(n,Z,e.serialize(),o)).data.items?.item.find(s=>s.type===be);return A(i)},async update(n,e,o,t){p(e,"number"),T(o,"product");let s=(await m.post(n,`${Z}/${e}`,o.serialize(),t)).data.items?.item.find(c=>c.type===be);return A(s)},delete(n,e,o,t){return p(e,"number"),m.delete(n,`${Z}/${e}`,{forceCascade:!!o},t)}},xt=Dn;var Le=u.Token.ENDPOINT_PATH,je=u.Token.TYPE,En={async get(n,e,o){p(e,"number");let i=(await m.get(n,`${Le}/${e}`,{},o)).data.items?.item.find(s=>s.type===je);return V(i)},async list(n,e,o){let t={};e&&(t[u.FILTER]=typeof e=="string"?e:D(e));let s=(await m.get(n,Le,t,o)).data.items,c=s?.item.filter(d=>d.type===je).map(d=>V(d));return y(c||[],s)},async create(n,e,o){T(e,"token");let i=(await m.post(n,Le,e.serialize(),o)).data.items?.item.find(s=>s.type===je);return V(i)},delete(n,e,o,t){return p(e,"number"),m.delete(n,`${Le}/${e}`,{forceCascade:!!o},t)}},St=En;var Re=u.Transaction.ENDPOINT_PATH,Ce=u.Transaction.TYPE,vn={async get(n,e,o){p(e,"number");let i=(await m.get(n,`${Re}/${e}`,{},o)).data.items?.item.find(s=>s.type===Ce);return O(i)},async list(n,e,o){let t={};e&&(t[u.FILTER]=typeof e=="string"?e:D(e));let s=(await m.get(n,Re,t,o)).data.items,c=s?.item.filter(d=>d.type===Ce).map(d=>O(d));return y(c||[],s)},async create(n,e,o){T(e,"transaction");let i=(await m.post(n,Re,e.serialize(),o)).data.items?.item.find(s=>s.type===Ce);return O(i)},async update(n,e,o,t){p(e,"number"),T(o,"transaction");let s=(await m.post(n,`${Re}/${e}`,o.serialize(),t)).data.items?.item.find(c=>c.type===Ce);return O(s)}},At=vn;var ke=u.Utility.ENDPOINT_PATH,hn={async listLicenseTypes(n,e){let o=`${ke}/${u.Utility.ENDPOINT_PATH_LICENSE_TYPES}`,i=(await m.get(n,o,void 0,e)).data.items,s=u.Utility.LICENSE_TYPE,c=i?.item.filter(d=>d.type===s).map(d=>P(d).name);return y(c||[],i)},async listLicensingModels(n,e){let o=`${ke}/${u.Utility.ENDPOINT_PATH_LICENSING_MODELS}`,i=(await m.get(n,o,void 0,e)).data.items,s=u.Utility.LICENSING_MODEL_TYPE,c=i?.item.filter(d=>d.type===s).map(d=>P(d).name);return y(c||[],i)},async listCountries(n,e,o){let t={};e&&(t[u.FILTER]=typeof e=="string"?e:D(e));let i=`${ke}/${u.Utility.ENDPOINT_PATH_COUNTRIES}`,c=(await m.get(n,i,t,o)).data.items,d=u.Utility.COUNTRY_TYPE,l=c?.item.filter(f=>f.type===d).map(f=>re(f));return y(l||[],c)}},Mt=hn;var $e=class{constructor(e){this.baseUrl=e?.baseUrl||"https://go.netlicensing.io/core/v2/rest",this.securityMode=e?.securityMode||N.BASIC_AUTHENTICATION,this.username=e?.username,this.password=e?.password,this.apiKey=e?.apiKey,this.publicKey=e?.publicKey}setBaseUrl(e){return this.baseUrl=e,this}getBaseUrl(){return this.baseUrl}setSecurityMode(e){return this.securityMode=e,this}getSecurityMode(){return this.securityMode}setUsername(e){return this.username=e,this}getUsername(e){return this.username||e}setPassword(e){return this.password=e,this}getPassword(e){return this.password||e}setApiKey(e){return this.apiKey=e,this}getApiKey(e){return this.apiKey||e}setPublicKey(e){return this.publicKey=e,this}getPublicKey(e){return this.publicKey||e}},Ot=n=>new $e(n);var Be=class{constructor(){this.parameters={},this.licenseeProperties={}}setProductNumber(e){return this.productNumber=e,this}getProductNumber(){return this.productNumber}setLicenseeName(e){return this.licenseeProperties.licenseeName=e,this}getLicenseeName(){return this.licenseeProperties.licenseeName}setLicenseeSecret(e){return this.licenseeProperties.licenseeSecret=e,this}getLicenseeSecret(){return this.licenseeProperties.licenseeSecret}getLicenseeProperties(){return this.licenseeProperties}setLicenseeProperty(e,o){return this.licenseeProperties[e]=o,this}getLicenseeProperty(e,o){return this.licenseeProperties[e]||o}setForOfflineUse(e){return this.forOfflineUse=e,this}isForOfflineUse(){return!!this.forOfflineUse}setDryRun(e){return this.dryRun=e,this}isDryRun(){return!!this.dryRun}getParameters(){return this.parameters}setParameter(e,o){return this.parameters[e]=o,this}getParameter(e){return this.parameters[e]}getProductModuleValidationParameters(e){return this.getParameter(e)}setProductModuleValidationParameters(e,o){return this.setParameter(e,o)}},_t=()=>new Be;
//# sourceMappingURL=index.js.map